{"version":3,"file":"d3plus-axis.js","sources":["../src/date.js","../src/Axis.js","../src/AxisBottom.js","../src/AxisLeft.js","../src/AxisRight.js","../src/AxisTop.js"],"sourcesContent":["/**\n    @function date\n    @summary Parses numbers and strings to valid Javascript Date objects.\n    @description Returns a javascript Date object for a given a Number (representing either a 4-digit year or milliseconds since epoch) or a String that is in [valid dateString format](http://dygraphs.com/date-formats.html). Besides the 4-digit year parsing, this function is useful when needing to parse negative (BC) years, which the vanilla Date object cannot parse.\n    @param {Number|String} *date*\n*/\nexport default function(d) {\n\n  // returns if already Date object\n  if (d.constructor === Date) return d;\n  // detects if milliseconds\n  else if (d.constructor === Number && `${d}`.length > 5 && d % 1 === 0) return new Date(d);\n\n  let s = `${d}`;\n  const dayFormat = new RegExp(/^\\d{1,2}[./-]\\d{1,2}[./-](-*\\d{1,4})$/g).exec(s),\n        strFormat = new RegExp(/^[A-z]{1,3} [A-z]{1,3} \\d{1,2} (-*\\d{1,4}) \\d{1,2}:\\d{1,2}:\\d{1,2} [A-z]{1,3}-*\\d{1,4} \\([A-z]{1,3}\\)/g).exec(s);\n\n  // tests for XX/XX/XXXX format\n  if (dayFormat) {\n    const year = dayFormat[1];\n    if (year.indexOf(\"-\") === 0) s = s.replace(year, year.substr(1));\n    const date = new Date(s);\n    date.setFullYear(year);\n    return date;\n  }\n  // tests for full Date object string format\n  else if (strFormat) {\n    const year = strFormat[1];\n    if (year.indexOf(\"-\") === 0) s = s.replace(year, year.substr(1));\n    const date = new Date(s);\n    date.setFullYear(year);\n    return date;\n  }\n  // detects if only passing a year value\n  else if (!s.includes(\"/\") && !s.includes(\" \") && (!s.includes(\"-\") || !s.indexOf(\"-\"))) {\n    const date = new Date(`${s}/01/01`);\n    date.setFullYear(d);\n    return date;\n  }\n  // parses string to Date object\n  else return new Date(s);\n\n}\n","/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\n\nimport {extent, max, min, range as d3Range} from \"d3-array\";\nimport * as scales from \"d3-scale\";\nimport {select} from \"d3-selection\";\nimport {transition} from \"d3-transition\";\n\nimport {assign, attrize, BaseClass, closest, constant, elem} from \"d3plus-common\";\nimport {formatAbbreviate} from \"d3plus-format\";\nimport * as shapes from \"d3plus-shape\";\nimport {rtl as detectRTL, TextBox, textWidth, textWrap} from \"d3plus-text\";\n\nimport {default as date} from \"./date\";\n\n/**\n    @class Axis\n    @extends external:BaseClass\n    @desc Creates an SVG scale based on an array of data.\n*/\nexport default class Axis extends BaseClass {\n\n  /**\n      @memberof Axis\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  constructor() {\n\n    super();\n\n    this._align = \"middle\";\n    this._barConfig = {\n      \"stroke\": \"#000\",\n      \"stroke-width\": 1\n    };\n    this._domain = [0, 10];\n    this._duration = 600;\n    this._gridConfig = {\n      \"stroke\": \"#ccc\",\n      \"stroke-width\": 1\n    };\n    this._gridLog = false;\n    this._height = 400;\n    this._labelOffset = false;\n    this.orient(\"bottom\");\n    this._outerBounds = {width: 0, height: 0, x: 0, y: 0};\n    this._padding = 5;\n    this._paddingInner = 0.1;\n    this._paddingOuter = 0.1;\n    this._rotateLabels = false;\n    this._scale = \"linear\";\n    this._shape = \"Line\";\n    this._shapeConfig = {\n      fill: \"#000\",\n      height: d => d.tick ? 8 : 0,\n      label: d => d.text,\n      labelBounds: d => d.labelBounds,\n      labelConfig: {\n        fontColor: \"#000\",\n        fontFamily: new TextBox().fontFamily(),\n        fontResize: false,\n        fontSize: constant(10),\n        padding: 0,\n        textAnchor: () => {\n          const rtl = detectRTL();\n          return this._orient === \"left\" ? rtl ? \"start\" : \"end\"\n            : this._orient === \"right\" ? rtl ? \"end\" : \"start\"\n            : this._rotateLabels ? this._orient === \"bottom\" ? \"end\" : \"start\" : \"middle\";\n        },\n        verticalAlign: () => this._orient === \"bottom\" ? \"top\" : this._orient === \"top\" ? \"bottom\" : \"middle\"\n      },\n      r: d => d.tick ? 4 : 0,\n      stroke: \"#000\",\n      strokeWidth: 1,\n      width: d => d.tick ? 8 : 0\n    };\n    this._tickSize = 5;\n    this._tickSpecifier = undefined;\n    this._titleClass = new TextBox();\n    this._titleConfig = {\n      fontSize: 12,\n      textAnchor: \"middle\"\n    };\n    this._width = 400;\n\n  }\n\n  /**\n      @memberof Axis\n      @desc Sets positioning for the axis bar.\n      @param {D3Selection} *bar*\n      @private\n  */\n  _barPosition(bar) {\n\n    const {height, x, y, opposite} = this._position,\n          domain = this._getDomain(),\n          offset = this._margin[opposite],\n          position = [\"top\", \"left\"].includes(this._orient) ? this._outerBounds[y] + this._outerBounds[height] - offset : this._outerBounds[y] + offset;\n\n    bar\n      .call(attrize, this._barConfig)\n      .attr(`${x}1`, this._getPosition(domain[0]) - (this._scale === \"band\" ? this._d3Scale.step() - this._d3Scale.bandwidth() : 0))\n      .attr(`${x}2`, this._getPosition(domain[domain.length - 1]) + (this._scale === \"band\" ? this._d3Scale.step() : 0))\n      .attr(`${y}1`, position)\n      .attr(`${y}2`, position);\n\n  }\n\n  /**\n      @memberof Axis\n      @desc Returns the scale's domain, taking into account negative and positive log scales.\n      @private\n  */\n  _getDomain() {\n\n    let ticks = [];\n    if (this._d3ScaleNegative) ticks = this._d3ScaleNegative.domain();\n    if (this._d3Scale) ticks = ticks.concat(this._d3Scale.domain());\n\n    const domain = this._scale === \"ordinal\" ? ticks : extent(ticks);\n    return ticks[0] > ticks[1] ? domain.reverse() : domain;\n\n  }\n\n  /**\n      @memberof Axis\n      @desc Returns a value's scale position, taking into account negative and positive log scales.\n      @param {Number|String} *d*\n      @private\n  */\n  _getPosition(d) {\n    return d < 0 && this._d3ScaleNegative ? this._d3ScaleNegative(d) : this._d3Scale(d);\n  }\n\n  /**\n      @memberof Axis\n      @desc Returns the scale's range, taking into account negative and positive log scales.\n      @private\n  */\n  _getRange() {\n\n    let ticks = [];\n    if (this._d3ScaleNegative) ticks = this._d3ScaleNegative.range();\n    if (this._d3Scale) ticks = ticks.concat(this._d3Scale.range());\n    return ticks[0] > ticks[1] ? extent(ticks).reverse() : extent(ticks);\n\n  }\n\n  /**\n      @memberof Axis\n      @desc Returns the scale's ticks, taking into account negative and positive log scales.\n      @private\n  */\n  _getTicks() {\n    const tickScale = scales.scaleSqrt().domain([10, 400]).range([10, 50]);\n\n    let ticks = [];\n    if (this._d3ScaleNegative) {\n      const negativeRange = this._d3ScaleNegative.range();\n      const size = negativeRange[1] - negativeRange[0];\n      ticks = this._d3ScaleNegative.ticks(Math.floor(size / tickScale(size)));\n    }\n    if (this._d3Scale) {\n      const positiveRange = this._d3Scale.range();\n      const size = positiveRange[1] - positiveRange[0];\n      ticks = ticks.concat(this._d3Scale.ticks(Math.floor(size / tickScale(size))));\n    }\n\n    return ticks;\n  }\n\n  /**\n      @memberof Axis\n      @desc Sets positioning for the grid lines.\n      @param {D3Selection} *lines*\n      @private\n  */\n  _gridPosition(lines, last = false) {\n    const {height, x, y, opposite} = this._position,\n          offset = this._margin[opposite],\n          position = [\"top\", \"left\"].includes(this._orient) ? this._outerBounds[y] + this._outerBounds[height] - offset : this._outerBounds[y] + offset,\n          scale = last ? this._lastScale || this._getPosition.bind(this) : this._getPosition.bind(this),\n          size = [\"top\", \"left\"].includes(this._orient) ? offset : -offset,\n          xDiff = this._scale === \"band\" ? this._d3Scale.bandwidth() / 2 : 0,\n          xPos = d => scale(d.id) + xDiff;\n    lines\n      .call(attrize, this._gridConfig)\n      .attr(`${x}1`, xPos)\n      .attr(`${x}2`, xPos)\n      .attr(`${y}1`, position)\n      .attr(`${y}2`, last ? position : position + size);\n  }\n\n  /**\n      @memberof Axis\n      @desc Renders the current Axis to the page. If a *callback* is specified, it will be called once the legend is done drawing.\n      @param {Function} [*callback* = undefined]\n      @chainable\n  */\n  render(callback) {\n\n    if (this._select === void 0) {\n      this.select(select(\"body\").append(\"svg\")\n        .attr(\"width\", `${this._width}px`)\n        .attr(\"height\", `${this._height}px`)\n        .node());\n    }\n\n    const {width, height, x, y, horizontal, opposite} = this._position,\n          clipId = `d3plus-Axis-clip-${this._uuid}`,\n          flip = [\"top\", \"left\"].includes(this._orient),\n          p = this._padding,\n          parent = this._select,\n          t = transition().duration(this._duration);\n\n    let range = this._range ? this._range.slice() : [undefined, undefined];\n    if (range[0] === void 0) range[0] = p;\n    if (range[1] === void 0) range[1] = this[`_${width}`] - p;\n    this._size = range[1] - range[0];\n    if (this._scale === \"ordinal\" && this._domain.length > range.length) {\n      range = d3Range(this._domain.length).map(d => this._size * (d / (this._domain.length - 1)) + range[0]);\n    }\n\n    const margin = this._margin = {top: 0, right: 0, bottom: 0, left: 0};\n\n    if (this._title) {\n      const {fontFamily, fontSize, lineHeight} = this._titleConfig;\n      const titleWrap = textWrap()\n        .fontFamily(typeof fontFamily === \"function\" ? fontFamily() : fontFamily)\n        .fontSize(typeof fontSize === \"function\" ? fontSize() : fontSize)\n        .lineHeight(typeof lineHeight === \"function\" ? lineHeight() : lineHeight)\n        .width(this._size)\n        .height(this[`_${height}`] - this._tickSize - p);\n      const lines = titleWrap(this._title).lines.length;\n      margin[this._orient] = lines * titleWrap.lineHeight() + p;\n    }\n\n    this._d3Scale = scales[`scale${this._scale.charAt(0).toUpperCase()}${this._scale.slice(1)}`]()\n      .domain(this._scale === \"time\" ? this._domain.map(date) : this._domain);\n\n    if (this._d3Scale.rangeRound) this._d3Scale.rangeRound(range);\n    else this._d3Scale.range(range);\n\n    if (this._d3Scale.round) this._d3Scale.round(true);\n    if (this._d3Scale.paddingInner) this._d3Scale.paddingInner(this._paddingInner);\n    if (this._d3Scale.paddingOuter) this._d3Scale.paddingOuter(this._paddingOuter);\n\n    this._d3ScaleNegative = null;\n    if (this._scale === \"log\") {\n      const domain = this._d3Scale.domain();\n      if (domain[0] === 0) domain[0] = 1;\n      if (domain[domain.length - 1] === 0) domain[domain.length - 1] = -1;\n      const range = this._d3Scale.range();\n      if (domain[0] < 0 && domain[domain.length - 1] < 0) {\n        this._d3ScaleNegative = this._d3Scale.copy()\n          .domain(domain)\n          .range(range);\n        this._d3Scale = null;\n      }\n      else if (domain[0] > 0 && domain[domain.length - 1] > 0) {\n        this._d3Scale\n          .domain(domain)\n          .range(range);\n      }\n      else {\n        const percentScale = scales.scaleLog().domain([1, domain[domain[1] > 0 ? 1 : 0]]).range([0, 1]);\n        const leftPercentage = percentScale(Math.abs(domain[domain[1] < 0 ? 1 : 0]));\n        let zero = leftPercentage / (leftPercentage + 1) * (range[1] - range[0]);\n        if (domain[0] > 0) zero = range[1] - range[0] - zero;\n        this._d3ScaleNegative = this._d3Scale.copy();\n        (domain[0] < 0 ? this._d3Scale : this._d3ScaleNegative)\n          .domain([Math.sign(domain[1]), domain[1]])\n          .range([range[0] + zero, range[1]]);\n        (domain[0] < 0 ? this._d3ScaleNegative : this._d3Scale)\n          .domain([domain[0], Math.sign(domain[0])])\n          .range([range[0], range[0] + zero]);\n      }\n    }\n\n    let ticks = this._ticks\n      ? this._scale === \"time\" ? this._ticks.map(date) : this._ticks\n      : (this._d3Scale ? this._d3Scale.ticks : this._d3ScaleNegative.ticks)\n        ? this._getTicks()\n        : this._domain;\n\n    let labels = this._labels\n      ? this._scale === \"time\" ? this._labels.map(date) : this._labels\n      : (this._d3Scale ? this._d3Scale.ticks : this._d3ScaleNegative.ticks)\n        ? this._getTicks()\n        : ticks;\n\n    ticks = ticks.slice();\n    labels = labels.slice();\n\n    if (this._scale === \"log\") labels = labels.filter(t => Math.abs(t).toString().charAt(0) === \"1\" && (this._d3Scale ? t !== -1 : t !== 1));\n\n    const superscript = \"⁰¹²³⁴⁵⁶⁷⁸⁹\";\n    const tickFormat = this._tickFormat ? this._tickFormat : d => {\n      if (this._scale === \"log\") {\n        const p = Math.round(Math.log(Math.abs(d)) / Math.LN10);\n        const t = Math.abs(d).toString().charAt(0);\n        let n = `10 ${`${p}`.split(\"\").map(c => superscript[c]).join(\"\")}`;\n        if (t !== \"1\") n = `${t} x ${n}`;\n        return d < 0 ? `-${n}` : n;\n      } \n      else if (this._scale === \"time\") {\n        return this._d3Scale.tickFormat(labels.length - 1, this._tickSpecifier)(d);\n      }\n      else if (this._scale === \"ordinal\") {\n        return d;\n      }\n\n      let n = this._d3Scale.tickFormat ? this._d3Scale.tickFormat(labels.length - 1)(d) : d;\n\n      n = n.replace(/[^\\d\\.\\-\\+]/g, \"\") * 1;\n      return isNaN(n) ? n : formatAbbreviate(n);\n    };\n\n    if (this._scale === \"time\") {\n      ticks = ticks.map(Number);\n      labels = labels.map(Number);\n    }\n    else if (this._scale === \"ordinal\") {\n      labels = labels.filter(label => ticks.includes(label));\n    }\n\n    ticks = ticks.sort((a, b) => this._getPosition(a) - this._getPosition(b));\n    labels = labels.sort((a, b) => this._getPosition(a) - this._getPosition(b));\n\n    const tickSize = this._shape === \"Circle\" ? this._shapeConfig.r\n      : this._shape === \"Rect\" ? this._shapeConfig[width]\n      : this._shapeConfig.strokeWidth;\n\n    const tickGet = typeof tickSize !== \"function\" ? () => tickSize : tickSize;\n\n    const pixels = [];\n    this._availableTicks = ticks;\n    ticks.forEach((d, i) => {\n      let s = tickGet({id: d, tick: true}, i);\n      if (this._shape === \"Circle\") s *= 2;\n      const t = this._getPosition(d);\n      if (!pixels.length || Math.abs(closest(t, pixels) - t) > s * 2) pixels.push(t);\n      else pixels.push(false);\n    });\n\n    ticks = ticks.filter((d, i) => pixels[i] !== false);\n\n    this._visibleTicks = ticks;\n\n    let hBuff = this._shape === \"Circle\"\n          ? typeof this._shapeConfig.r === \"function\" ? this._shapeConfig.r({tick: true}) : this._shapeConfig.r\n          : this._shape === \"Rect\"\n            ? typeof this._shapeConfig[height] === \"function\" ? this._shapeConfig[height]({tick: true}) : this._shapeConfig[height]\n            : this._tickSize,\n        wBuff = tickGet({tick: true});\n\n    if (typeof hBuff === \"function\") hBuff = max(ticks.map(hBuff));\n    if (this._shape === \"Rect\") hBuff /= 2;\n    if (typeof wBuff === \"function\") wBuff = max(ticks.map(wBuff));\n    if (this._shape !== \"Circle\") wBuff /= 2;\n\n    if (this._scale === \"band\") {\n      this._space = this._d3Scale.bandwidth();\n    }\n    else if (labels.length > 1) {\n      this._space = 0;\n      for (let i = 0; i < labels.length - 1; i++) {\n        const s = this._getPosition(labels[i + 1]) - this._getPosition(labels[i]);\n        if (s > this._space) this._space = s;\n      }\n    }\n    else this._space = this._size;\n\n    // Measures size of ticks\n    let textData = labels.map((d, i) => {\n\n      const f = this._shapeConfig.labelConfig.fontFamily(d, i),\n            s = this._shapeConfig.labelConfig.fontSize(d, i);\n\n      const wrap = textWrap()\n        .fontFamily(f)\n        .fontSize(s)\n        .lineHeight(this._shapeConfig.lineHeight ? this._shapeConfig.lineHeight(d, i) : undefined)\n        .width(horizontal ? this._space * 2 : this._maxSize ? this._maxSize - hBuff - p - this._margin.left - this._margin.right - this._tickSize : this._width - hBuff - p)\n        .height(horizontal ? this._height - hBuff - p : this._space * 2);\n\n      const res = wrap(tickFormat(d));\n      res.lines = res.lines.filter(d => d !== \"\");\n      res.d = d;\n      res.fS = s;\n      res.width = res.lines.length\n        ? Math.ceil(max(res.lines.map(line => textWidth(line, {\"font-family\": f, \"font-size\": s})))) + s / 4\n        : 0;\n      res.height = res.lines.length ? Math.ceil(res.lines.length * (wrap.lineHeight() + 1)) : 0;\n      res.offset = 0;\n      res.hidden = false;\n      if (res.width % 2) res.width++;\n\n      return res;\n\n    });\n\n    const labelHeight = max(textData, t => t.height) || 0;\n\n    if (horizontal && typeof this._labelRotation === \"undefined\") {\n      for (let i = 0; i < labels.length; i++) {\n        const d = labels[i];\n\n        const f = this._shapeConfig.labelConfig.fontFamily(d, i),\n              s = this._shapeConfig.labelConfig.fontSize(d, i);\n\n        const wrap = textWrap()\n          .fontFamily(f)\n          .fontSize(s)\n          .lineHeight(this._shapeConfig.lineHeight ? this._shapeConfig.lineHeight(d, i) : undefined)\n          .width(this._space)\n          .height(labelHeight);\n\n        const res = wrap(tickFormat(d));\n\n        const isTruncated = res.truncated;\n\n        const xPos = this._getPosition(d);\n        const prev = labels[i - 1] || false;\n        const next = labels[i + 1] || false;\n\n        const maxWidth = Math.max(res.widths);\n\n        const isOverlapping = prev ? xPos - maxWidth < this._getPosition(prev) + maxWidth : next ? xPos + maxWidth > this._getPosition(next) - maxWidth : false;\n\n        const isRotated = isTruncated || isOverlapping;\n\n        if (isRotated) {\n          this._rotateLabels = true;\n          break;\n        }\n      }\n    }\n    else if (horizontal) this._rotateLabels = this._labelRotation;\n\n    if (this._rotateLabels) {\n      textData = labels.map((d, i) => {\n        const text = textData[i];\n\n        const f = this._shapeConfig.labelConfig.fontFamily(d, i),\n              s = this._shapeConfig.labelConfig.fontSize(d, i);\n\n        const lineHeight = this._shapeConfig.lineHeight ? this._shapeConfig.lineHeight(d, i) : s * 1.4;\n\n        const lineTest = textWrap()\n            .fontFamily(f)\n            .fontSize(s)\n            .lineHeight(this._shapeConfig.lineHeight ? this._shapeConfig.lineHeight(d, i) : undefined)\n            .height(lineHeight * 2 + 1)\n            .width(this._maxSize ? this._maxSize - this._margin.top - this._margin.bottom - this._tickSize : this._height);\n\n        const xPos = this._getPosition(d);\n        const prev = labels[i - 1] || false;\n        const next = labels[i + 1] || false;\n\n        const fitsTwoLines = prev ? xPos - lineHeight * 2 > this._getPosition(prev) + lineHeight * 2 : next ? xPos + lineHeight * 2 < this._getPosition(next) - lineHeight * 2 : true;\n\n        const lineTestResult = lineTest(tickFormat(d));\n\n        const isTwoLine = lineTestResult.words.length > 1 && lineTestResult.widths[0] > 80;\n        const height = fitsTwoLines && isTwoLine ? lineTestResult.widths[0] / 1.6 : lineTestResult.widths[0];\n        const width = fitsTwoLines && isTwoLine ? lineHeight * 2 : lineHeight;\n\n        return Object.assign(text, {\n          height: height || 0,\n          lineHeight,\n          numLines: fitsTwoLines && isTwoLine ? 2 : 1,\n          width: width || 0\n        });\n      });\n    }\n\n\n    textData.forEach((d, i) => {\n      if (i) {\n        const prev = textData[i - 1];\n        if (!prev.offset && this._getPosition(d.d) - d[width] / 2 < this._getPosition(prev.d) + prev[width] / 2) {\n          d.offset = prev[height] + this._padding;\n        }\n      }\n    });\n    if (this._labelOffset) {\n      textData.forEach((d, i) => {\n        if (i) {\n          const prev = textData[i - 1];\n          if (!prev.offset && this._getPosition(d.d) - d[width] / 2 < this._getPosition(prev.d) + prev[width] / 2) {\n            d.offset = prev[height] + this._padding;\n          }\n        }\n      });\n\n      const maxOffset = max(textData, d => d.offset);\n      if (maxOffset) {\n        textData.forEach(d => {\n          if (d.offset) {\n            d.offset = maxOffset;\n            d[height] += maxOffset;\n          }\n        });\n      }\n    }\n\n    // Calculates new range, based on any text that may be overflowing.\n    const rangeOuter = range.slice();\n    const lastI = range.length - 1;\n    if (this._scale !== \"band\" && textData.length) {\n\n      const first = textData[0],\n            last = textData[textData.length - 1];\n\n      const firstB = min([this._getPosition(first.d) - first[width] / 2, range[0] - wBuff]);\n      if (firstB < range[0]) {\n        const d = range[0] - firstB;\n        if (this._range === void 0 || this._range[0] === void 0) {\n          this._size -= d;\n          range[0] += d;\n        }\n        else if (this._range) {\n          rangeOuter[0] -= d;\n        }\n      }\n\n      const lastB = max([this._getPosition(last.d) + last[width] / 2, range[lastI] + wBuff]);\n      if (lastB > range[lastI]) {\n        const d = lastB - range[lastI];\n        if (this._range === void 0 || this._range[this._range.length - 1] === void 0) {\n          this._size -= d;\n          range[lastI] -= d;\n        }\n        else if (this._range) {\n          rangeOuter[rangeOuter.length - 1] += d;\n        }\n      }\n\n      if (range.length > 2) range = d3Range(this._domain.length).map(d => this._size * (d / (range.length - 1)) + range[0]);\n      range = range.map(Math.round);\n      if (this._d3ScaleNegative) {\n        const negativeRange = this._d3ScaleNegative.range();\n        this._d3ScaleNegative[this._d3ScaleNegative.rangeRound ? \"rangeRound\" : \"range\"](\n          this._d3Scale && this._d3Scale.range()[0] < negativeRange[0]\n            ? [negativeRange[0], range[1]]\n            : [range[0], this._d3Scale ? negativeRange[1] : range[1]]\n        );\n        if (this._d3Scale) {\n          const positiveRange = this._d3Scale.range();\n          this._d3Scale[this._d3Scale.rangeRound ? \"rangeRound\" : \"range\"](\n            range[0] < negativeRange[0]\n              ? [range[0], positiveRange[1]]\n              : [positiveRange[0], range[1]]\n          );\n        }\n      }\n      else {\n        this._d3Scale[this._d3Scale.rangeRound ? \"rangeRound\" : \"range\"](range);\n      }\n\n    }\n\n    if (this._scale === \"band\") {\n      this._space = this._d3Scale.bandwidth();\n    }\n    else if (labels.length > 1) {\n      this._space = 0;\n      for (let i = 0; i < labels.length - 1; i++) {\n        const s = this._getPosition(labels[i + 1]) - this._getPosition(labels[i]);\n        if (s > this._space) this._space = s;\n      }\n    }\n    else this._space = this._size;\n\n    const tBuff = this._shape === \"Line\" ? 0 : hBuff;\n    const bounds = this._outerBounds = {\n      [height]: (max(textData, t => Math.ceil(t[height])) || 0) + (textData.length ? p : 0),\n      [width]: rangeOuter[lastI] - rangeOuter[0],\n      [x]: rangeOuter[0]\n    };\n\n    margin[this._orient] += hBuff;\n    margin[opposite] = this._gridSize !== void 0 ? max([this._gridSize, tBuff]) : this[`_${height}`] - margin[this._orient] - bounds[height] - p;\n    bounds[height] += margin[opposite] + margin[this._orient];\n    bounds[y] = this._align === \"start\" ? this._padding\n      : this._align === \"end\" ? this[`_${height}`] - bounds[height] - this._padding\n      : this[`_${height}`] / 2 - bounds[height] / 2;\n\n    const group = elem(`g#d3plus-Axis-${this._uuid}`, {parent});\n    this._group = group;\n\n    const grid = elem(\"g.grid\", {parent: group}).selectAll(\"line\")\n      .data((this._gridSize !== 0 ? this._grid || this._scale === \"log\" && !this._gridLog ? labels : ticks : []).map(d => ({id: d})), d => d.id);\n\n    grid.exit().transition(t)\n      .attr(\"opacity\", 0)\n      .call(this._gridPosition.bind(this))\n      .remove();\n\n    grid.enter().append(\"line\")\n        .attr(\"opacity\", 0)\n        .attr(\"clip-path\", `url(#${clipId})`)\n        .call(this._gridPosition.bind(this), true)\n      .merge(grid).transition(t)\n        .attr(\"opacity\", 1)\n        .call(this._gridPosition.bind(this));\n\n    const labelOnly = labels.filter((d, i) => textData[i].lines.length && !ticks.includes(d));\n\n    let tickData = ticks.concat(labelOnly)\n      .map(d => {\n        const data = textData.filter(td => td.d === d);\n        const dataIndex = data.length ? textData.indexOf(data[0]) : undefined;\n        const xPos = this._getPosition(d);\n\n        let labelOffset = data.length && this._labelOffset ? data[0].offset : 0;\n\n        const labelWidth = horizontal ? this._space : bounds.width - margin[this._position.opposite] - hBuff - margin[this._orient] + p;\n\n        let prev = data.length && dataIndex > 0 ? textData.filter((td, ti) => !td.hidden && td.offset >= labelOffset && ti < dataIndex) : false;\n        prev = prev.length ? prev[prev.length - 1] : false;\n        let next = data.length && dataIndex < textData.length - 1 ? textData.filter((td, ti) => !td.hidden && td.offset >= labelOffset && ti > dataIndex) : false;\n        next = next.length ? next[0] : false;\n\n        const space = Math.min(prev ? xPos - this._getPosition(prev.d) : labelWidth, next ? this._getPosition(next.d) - xPos : labelWidth);\n        if (data.length && data[0].width > labelWidth) {\n          data[0].hidden = true;\n          data[0].offset = labelOffset = 0;\n        }\n\n        const offset = margin[opposite],\n              size = (hBuff + labelOffset) * (flip ? -1 : 1),\n              yPos = flip ? bounds[y] + bounds[height] - offset : bounds[y] + offset;\n\n        let tickConfig = {\n          id: d,\n          labelBounds: {\n            x: horizontal ? -space / 2 : this._orient === \"left\" ? -labelWidth - p + size : size + p,\n            y: horizontal ? this._orient === \"bottom\" ? size + p : size - p - labelHeight : -space / 2,\n            width: horizontal ? space : labelWidth,\n            height: horizontal ? labelHeight : space\n          },\n          size: labels.includes(d) ? size : 0,\n          text: labels.includes(d) ? tickFormat(d) : false,\n          tick: ticks.includes(d),\n          [x]: xPos + (this._scale === \"band\" ? this._d3Scale.bandwidth() / 2 : 0),\n          [y]: yPos\n        };\n\n        const text = this._rotateLabels && textData.find(val => val.d === d);\n        if (text) {\n          const {lineHeight, numLines} = text;\n          const width = text.height;\n          const height = text.width;\n\n          tickConfig = Object.assign(tickConfig, {\n            labelBounds: {\n              x: -width / 2,\n              y: this._orient === \"bottom\" ? size + p + (width - lineHeight * numLines) / 2 : size - p * 2 - (width + lineHeight * numLines) / 2,\n              width,\n              height: height + 1\n            }\n          });\n        }\n\n        return tickConfig;\n      });\n\n    if (this._shape === \"Line\") {\n      tickData = tickData.concat(tickData.map(d => {\n        const dupe = Object.assign({}, d);\n        dupe[y] += d.size;\n        return dupe;\n      }));\n    }\n\n    new shapes[this._shape]()\n      .data(tickData)\n      .duration(this._duration)\n      .labelConfig({\n        ellipsis: d => d && d.length ? `${d}...` : \"\",\n        rotate: this._rotateLabels ? -90 : 0\n      })\n      .select(elem(\"g.ticks\", {parent: group}).node())\n      .config(this._shapeConfig)\n      .render();\n\n    const bar = group.selectAll(\"line.bar\").data([null]);\n\n    bar.enter().append(\"line\")\n        .attr(\"class\", \"bar\")\n        .attr(\"opacity\", 0)\n        .call(this._barPosition.bind(this))\n      .merge(bar).transition(t)\n        .attr(\"opacity\", 1)\n        .call(this._barPosition.bind(this));\n\n    this._titleClass\n      .data(this._title ? [{text: this._title}] : [])\n      .duration(this._duration)\n      .height(margin[this._orient])\n      .rotate(this._orient === \"left\" ? -90 : this._orient === \"right\" ? 90 : 0)\n      .select(elem(\"g.d3plus-Axis-title\", {parent: group}).node())\n      .text(d => d.text)\n      .verticalAlign(\"middle\")\n      .width(bounds[width])\n      .x(horizontal ? bounds.x : this._orient === \"left\" ? bounds.x + margin[this._orient] / 2 - bounds[width] / 2 : bounds.x + bounds.width - margin[this._orient] / 2 - bounds[width] / 2)\n      .y(horizontal ? this._orient === \"bottom\" ? bounds.y + bounds.height - margin.bottom + p : bounds.y : bounds.y - margin[this._orient] / 2 + bounds[width] / 2)\n      .config(this._titleConfig)\n      .render();\n\n    this._lastScale = this._getPosition.bind(this);\n\n    if (callback) setTimeout(callback, this._duration + 100);\n\n    return this;\n\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the horizontal alignment to the specified value and returns the current class instance.\n      @param {String} [*value* = \"center\"] Supports `\"left\"` and `\"center\"` and `\"right\"`.\n      @chainable\n  */\n  align(_) {\n    return arguments.length ? (this._align = _, this) : this._align;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the axis line style and returns the current class instance.\n      @param {Object} [*value*]\n      @chainable\n  */\n  barConfig(_) {\n    return arguments.length ? (this._barConfig = Object.assign(this._barConfig, _), this) : this._barConfig;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the scale domain of the axis and returns the current class instance.\n      @param {Array} [*value* = [0, 10]]\n      @chainable\n  */\n  domain(_) {\n    return arguments.length ? (this._domain = _, this) : this._domain;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the transition duration of the axis and returns the current class instance.\n      @param {Number} [*value* = 600]\n      @chainable\n  */\n  duration(_) {\n    return arguments.length ? (this._duration = _, this) : this._duration;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the grid values of the axis and returns the current class instance.\n      @param {Array} [*value*]\n      @chainable\n  */\n  grid(_) {\n    return arguments.length ? (this._grid = _, this) : this._grid;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the grid config of the axis and returns the current class instance.\n      @param {Object} [*value*]\n      @chainable\n  */\n  gridConfig(_) {\n    return arguments.length ? (this._gridConfig = Object.assign(this._gridConfig, _), this) : this._gridConfig;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the grid behavior of the axis when scale is logarithmic and returns the current class instance.\n      @param {Boolean} [*value* = false]\n      @chainable\n  */\n  gridLog(_) {\n    return arguments.length ? (this._gridLog = _, this) : this._gridLog;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the grid size of the axis and returns the current class instance.\n      @param {Number} [*value* = undefined]\n      @chainable\n  */\n  gridSize(_) {\n    return arguments.length ? (this._gridSize = _, this) : this._gridSize;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the overall height of the axis and returns the current class instance.\n      @param {Number} [*value* = 100]\n      @chainable\n  */\n  height(_) {\n    return arguments.length ? (this._height = _, this) : this._height;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the visible tick labels of the axis and returns the current class instance.\n      @param {Array} [*value*]\n      @chainable\n  */\n  labels(_) {\n    return arguments.length ? (this._labels = _, this) : this._labels;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets whether offsets will be used to position some labels further away from the axis in order to allow space for the text.\n      @param {Boolean} [*value* = true]\n      @chainable\n   */\n  labelOffset(_) {\n    return arguments.length ? (this._labelOffset = _, this) : this._labelOffset;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets whether whether horizontal axis labels are rotated -90 degrees.\n      @param {Boolean}\n      @chainable\n   */\n  labelRotation(_) {\n    return arguments.length ? (this._labelRotation = _, this) : this._labelRotation;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the maximum size allowed for the space that contains the axis tick labels and title.\n      @param {Number}\n      @chainable\n   */\n  maxSize(_) {\n    return arguments.length ? (this._maxSize = _, this) : this._maxSize;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *orient* is specified, sets the orientation of the shape and returns the current class instance. If *orient* is not specified, returns the current orientation.\n      @param {String} [*orient* = \"bottom\"] Supports `\"top\"`, `\"right\"`, `\"bottom\"`, and `\"left\"` orientations.\n      @chainable\n  */\n  orient(_) {\n    if (arguments.length) {\n\n      const horizontal = [\"top\", \"bottom\"].includes(_),\n            opps = {top: \"bottom\", right: \"left\", bottom: \"top\", left: \"right\"};\n\n      this._position = {\n        horizontal,\n        width: horizontal ? \"width\" : \"height\",\n        height: horizontal ? \"height\" : \"width\",\n        x: horizontal ? \"x\" : \"y\",\n        y: horizontal ? \"y\" : \"x\",\n        opposite: opps[_]\n      };\n\n      return this._orient = _, this;\n\n    }\n    return this._orient;\n  }\n\n  /**\n      @memberof Axis\n      @desc If called after the elements have been drawn to DOM, will returns the outer bounds of the axis content.\n      @example\n{\"width\": 180, \"height\": 24, \"x\": 10, \"y\": 20}\n  */\n  outerBounds() {\n    return this._outerBounds;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the padding between each tick label to the specified number and returns the current class instance.\n      @param {Number} [*value* = 10]\n      @chainable\n  */\n  padding(_) {\n    return arguments.length ? (this._padding = _, this) : this._padding;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the inner padding of band scale to the specified number and returns the current class instance.\n      @param {Number} [*value* = 0.1]\n      @chainable\n  */\n  paddingInner(_) {\n    return arguments.length ? (this._paddingInner = _, this) : this._paddingInner;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the outer padding of band scales to the specified number and returns the current class instance.\n      @param {Number} [*value* = 0.1]\n      @chainable\n  */\n  paddingOuter(_) {\n    return arguments.length ? (this._paddingOuter = _, this) : this._paddingOuter;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the scale range (in pixels) of the axis and returns the current class instance. The given array must have 2 values, but one may be `undefined` to allow the default behavior for that value.\n      @param {Array} [*value*]\n      @chainable\n  */\n  range(_) {\n    return arguments.length ? (this._range = _, this) : this._range;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the scale of the axis and returns the current class instance.\n      @param {String} [*value* = \"linear\"]\n      @chainable\n  */\n  scale(_) {\n    return arguments.length ? (this._scale = _, this) : this._scale;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element.\n      @param {String|HTMLElement} [*selector* = d3.select(\"body\").append(\"svg\")]\n      @chainable\n  */\n  select(_) {\n    return arguments.length ? (this._select = select(_), this) : this._select;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the tick shape constructor and returns the current class instance.\n      @param {String} [*value* = \"Line\"]\n      @chainable\n  */\n  shape(_) {\n    return arguments.length ? (this._shape = _, this) : this._shape;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the tick style of the axis and returns the current class instance.\n      @param {Object} [*value*]\n      @chainable\n  */\n  shapeConfig(_) {\n    return arguments.length ? (this._shapeConfig = assign(this._shapeConfig, _), this) : this._shapeConfig;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the tick formatter and returns the current class instance.\n      @param {Function} [*value*]\n      @chainable\n  */\n  tickFormat(_) {\n    return arguments.length ? (this._tickFormat = _, this) : this._tickFormat;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the tick values of the axis and returns the current class instance.\n      @param {Array} [*value*]\n      @chainable\n  */\n  ticks(_) {\n    return arguments.length ? (this._ticks = _, this) : this._ticks;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the tick size of the axis and returns the current class instance.\n      @param {Number} [*value* = 5]\n      @chainable\n  */\n  tickSize(_) {\n    return arguments.length ? (this._tickSize = _, this) : this._tickSize;\n  }\n\n  /**\n      @memberof Axis\n      @desc Sets the tick specifier for the [tickFormat](https://github.com/d3/d3-scale#continuous_tickFormat) function. If this method is called without any arguments, the default tick specifier is returned.\n      @param {String} [*value* = undefined]\n      @chainable\n  */\n  tickSpecifier(_) {\n    return arguments.length ? (this._tickSpecifier = _, this) : this._tickSpecifier;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the title of the axis and returns the current class instance.\n      @param {String} [*value*]\n      @chainable\n  */\n  title(_) {\n    return arguments.length ? (this._title = _, this) : this._title;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the title configuration of the axis and returns the current class instance.\n      @param {Object} [*value*]\n      @chainable\n  */\n  titleConfig(_) {\n    return arguments.length ? (this._titleConfig = Object.assign(this._titleConfig, _), this) : this._titleConfig;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the overall width of the axis and returns the current class instance.\n      @param {Number} [*value* = 400]\n      @chainable\n  */\n  width(_) {\n    return arguments.length ? (this._width = _, this) : this._width;\n  }\n\n}\n","import {default as Axis} from \"./Axis\";\n\n/**\n    @class AxisBottom\n    @extends Axis\n    @desc Shorthand method for creating an axis where the ticks are drawn below the horizontal domain path. Extends all functionality of the base [Axis](#Axis) class.\n*/\nexport default class AxisBottom extends Axis {\n\n  /**\n      @memberof AxisBottom\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  constructor() {\n    super();\n    this.orient(\"bottom\");\n  }\n\n}\n","import {default as Axis} from \"./Axis\";\n\n/**\n    @class AxisLeft\n    @extends Axis\n    @desc Shorthand method for creating an axis where the ticks are drawn to the left of the vertical domain path. Extends all functionality of the base [Axis](#Axis) class.\n*/\nexport default class AxisLeft extends Axis {\n\n  /**\n      @memberof AxisLeft\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  constructor() {\n    super();\n    this.orient(\"left\");\n  }\n\n}\n","import {default as Axis} from \"./Axis\";\n\n/**\n    @class AxisRight\n    @extends Axis\n    @desc Shorthand method for creating an axis where the ticks are drawn to the right of the vertical domain path. Extends all functionality of the base [Axis](#Axis) class.\n*/\nexport default class AxisRight extends Axis {\n\n  /**\n      @memberof AxisRight\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  constructor() {\n    super();\n    this.orient(\"right\");\n  }\n\n}\n","import {default as Axis} from \"./Axis\";\n\n/**\n    @class AxisTop\n    @extends Axis\n    @desc Shorthand method for creating an axis where the ticks are drawn above the vertical domain path. Extends all functionality of the base [Axis](#Axis) class.\n*/\nexport default class AxisTop extends Axis {\n\n  /**\n      @memberof AxisTop\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  constructor() {\n    super();\n    this.orient(\"top\");\n  }\n\n}\n"],"names":["let","const","year","date","super","TextBox","constant","detectRTL","this","attrize","extent","scales.scaleSqrt","size","select","transition","d3Range","textWrap","range","scales.scaleLog","n","formatAbbreviate","closest","max","textWidth","i","s","min","d","elem","height","assign","BaseClass"],"mappings":"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"}