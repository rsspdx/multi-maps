{"version":3,"file":"date.js","sources":["../../src/date.js"],"sourcesContent":["/**\n    @function date\n    @summary Parses numbers and strings to valid Javascript Date objects.\n    @description Returns a javascript Date object for a given a Number (representing either a 4-digit year or milliseconds since epoch) or a String that is in [valid dateString format](http://dygraphs.com/date-formats.html). Besides the 4-digit year parsing, this function is useful when needing to parse negative (BC) years, which the vanilla Date object cannot parse.\n    @param {Number|String} *date*\n*/\nexport default function(d) {\n\n  // returns if already Date object\n  if (d.constructor === Date) return d;\n  // detects if milliseconds\n  else if (d.constructor === Number && `${d}`.length > 5 && d % 1 === 0) return new Date(d);\n\n  let s = `${d}`;\n  const dayFormat = new RegExp(/^\\d{1,2}[./-]\\d{1,2}[./-](-*\\d{1,4})$/g).exec(s),\n        strFormat = new RegExp(/^[A-z]{1,3} [A-z]{1,3} \\d{1,2} (-*\\d{1,4}) \\d{1,2}:\\d{1,2}:\\d{1,2} [A-z]{1,3}-*\\d{1,4} \\([A-z]{1,3}\\)/g).exec(s);\n\n  // tests for XX/XX/XXXX format\n  if (dayFormat) {\n    const year = dayFormat[1];\n    if (year.indexOf(\"-\") === 0) s = s.replace(year, year.substr(1));\n    const date = new Date(s);\n    date.setFullYear(year);\n    return date;\n  }\n  // tests for full Date object string format\n  else if (strFormat) {\n    const year = strFormat[1];\n    if (year.indexOf(\"-\") === 0) s = s.replace(year, year.substr(1));\n    const date = new Date(s);\n    date.setFullYear(year);\n    return date;\n  }\n  // detects if only passing a year value\n  else if (!s.includes(\"/\") && !s.includes(\" \") && (!s.includes(\"-\") || !s.indexOf(\"-\"))) {\n    const date = new Date(`${s}/01/01`);\n    date.setFullYear(d);\n    return date;\n  }\n  // parses string to Date object\n  else return new Date(s);\n\n}\n"],"names":["year","date","let","const"],"mappings":"AAAA;;;;;;AAMA,eAAe,SAAS,CAAC,EAAE;;;EAGzB,IAAI,CAAC,CAAC,WAAW,KAAK,IAAI,IAAE,OAAO,CAAC,GAAC;;OAEhC,IAAI,CAAC,CAAC,WAAW,KAAK,MAAM,IAAI,MAAG,CAAC,CAAE,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAE,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC,GAAC;;EAE1FE,GAAG,CAAC,CAAC,GAAG,KAAG,CAAC,AAAE,CAAC;EACfC,GAAK,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,wCAAwC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QACxE,SAAS,GAAG,IAAI,MAAM,CAAC,wGAAwG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;;;EAG/I,IAAI,SAAS,EAAE;IACbA,GAAK,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAC1B,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAE,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAC;IACjEA,GAAK,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;IACzB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACvB,OAAO,IAAI,CAAC;GACb;;OAEI,IAAI,SAAS,EAAE;IAClBA,GAAK,CAACH,MAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAC1B,IAAIA,MAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAE,CAAC,GAAG,CAAC,CAAC,OAAO,CAACA,MAAI,EAAEA,MAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAC;IACjEG,GAAK,CAACF,MAAI,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;IACzBA,MAAI,CAAC,WAAW,CAACD,MAAI,CAAC,CAAC;IACvB,OAAOC,MAAI,CAAC;GACb;;OAEI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE;IACtFE,GAAK,CAACF,MAAI,GAAG,IAAI,IAAI,CAAC,CAAG,CAAC,YAAQ,CAAC,CAAC;IACpCA,MAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IACpB,OAAOA,MAAI,CAAC;GACb;;SAEI,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC,GAAC;;CAEzB;"}