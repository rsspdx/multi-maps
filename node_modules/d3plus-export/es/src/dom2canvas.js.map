{"version":3,"file":"dom2canvas.js","sources":["../../src/dom2canvas.js"],"sourcesContent":["import html2canvas from \"html2canvas\";\nimport canvg from \"canvg-browser\";\nimport {select, selectAll} from \"d3-selection\";\n\nimport svgPresets from \"./svgPresets\";\n\nconst defaultOptions = {\n  background: false,\n  callback: () => {},\n  exclude: [],\n  padding: 0,\n  scale: 1\n};\n\nconst canvgOptions = {\n  ignoreMouse: true,\n  ignoreAnimation: true,\n  ignoreDimensions: true,\n  ignoreClear: true\n};\n\n/**\n    @function parseTransform\n    @desc Extracts scale, x, and y position from an elements \"transform\" attribute, respecting cross-browser render differences.\n    @param {HTMLElement} elem The element to be analyzed.\n    @private\n*/\nfunction parseTransform(elem) {\n\n  const property = select(elem).attr(\"transform\");\n  let scale = 1, x = 0, y = 0;\n  if (property) {\n    scale = property.match(/scale\\(([^a-z]+)\\)/i);\n    if (scale) scale = parseFloat(scale[1]);\n    else scale = 1;\n    const translate = property.match(/translate\\(([^a-z]+)\\)/i);\n    if (translate) {\n      [x, y] = translate[1]\n        .replace(\", \", \",\")\n        .replace(/([^a-z]),*\\s([^a-z])/gi, \"$1,$2\")\n        .split(\",\")\n        .map(d => parseFloat(d) * scale);\n    }\n  }\n  return [scale, x, y];\n\n}\n\n/**\n    @function dom2canvas\n    @desc Renders HTML/SVG elements to a shared canvas.\n    @param {HTMLElement|Object|Array} elem The element or array of elements to be rendered to a single canvas. Additionally, a complex object can be passed as an element which can contain specific other properties.\n    @param {Number} [elem.x] The x offset of the element within the rendered canvas.\n    @param {Number} [elem.y] The y offset of the element within the rendered canvas.\n    @param {Object} [options] Additional options to specify.\n    @param {String} [options.background] Background color of the rendered canvas.\n    @param {Function} [options.callback] Callback function to be passed the canvas element after rendering.\n    @param {Array} [options.excludes] An array of HTMLElement objects to be excluded from the render.\n    @param {Number} [options.height] Pixel height for the final output. If a height value has not been passed, it will be inferred from the sizing of the first DOM element passed.\n    @param {Number} [options.padding = 0] Outer padding for the final file.\n    @param {Number} [options.scale = 1] Scale for the final file.\n    @param {Number} [options.width] Pixel width for the final output. If a width value has not been passed, it will be inferred from the sizing of the first DOM element passed.\n*/\nexport default function(elem, options) {\n\n  if (!elem) return;\n  if (!(elem instanceof Array)) elem = [elem];\n\n  options = Object.assign({}, defaultOptions, options);\n  const IE = new RegExp(/(MSIE|Trident\\/|Edge\\/)/i).test(navigator.userAgent);\n  const ratio = window ? window.devicePixelRatio || 1 : 1;\n\n  let reference = elem[0];\n  if (reference.constructor === Object) reference = reference.element;\n\n  const height = options.height ||\n          parseFloat(select(reference).style(\"height\")) +\n          parseFloat(select(reference).style(\"padding-top\")) +\n          parseFloat(select(reference).style(\"padding-bottom\")),\n        width = options.width ||\n          parseFloat(select(reference).style(\"width\")) +\n          parseFloat(select(reference).style(\"padding-left\")) +\n          parseFloat(select(reference).style(\"padding-right\"));\n\n  let layerX, layerY, offsetX = 0, offsetY = 0;\n  if (reference.getBoundingClientRect) {\n    const bounds = reference.getBoundingClientRect();\n    offsetX = bounds.left;\n    offsetY = bounds.top;\n  }\n  else {\n    offsetX = reference.offsetLeft;\n    offsetY = reference.offsetTop;\n  }\n\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = (width + options.padding * 2) * options.scale * ratio;\n  canvas.height = (height + options.padding * 2) * options.scale * ratio;\n  canvas.style.width = (width + options.padding * 2) * options.scale;\n  canvas.style.height = (height + options.padding * 2) * options.scale;\n\n  const context = canvas.getContext(\"2d\");\n  context.scale(options.scale * ratio, options.scale * ratio);\n  context.clearRect(0, 0, canvas.width / ratio, canvas.height / ratio);\n\n  if (options.background) {\n    context.beginPath();\n    context.rect(0, 0, canvas.width / ratio, canvas.height / ratio);\n    context.fillStyle = options.background;\n    context.fill();\n  }\n\n  const layers = [];\n\n  function checkRender(trans) {\n\n    const tag = (this.tagName || \"\").toLowerCase();\n    if (options.exclude.includes(this) || tag === \"foreignobject\") return;\n\n    const transform = Object.assign({}, trans);\n\n    // strips translate and scale from transform property\n    if (this.tagName) {\n\n      const opacity = select(this).attr(\"opacity\") || select(this).style(\"opacity\");\n      const display = select(this).style(\"display\");\n      const visibility = select(this).style(\"visibility\");\n      if (display === \"none\" || visibility === \"hidden\" || opacity && parseFloat(opacity) === 0) return;\n\n      const tag = this.tagName.toLowerCase();\n\n      if (tag.length && [\"defs\", \"title\", \"desc\"].includes(tag)) return;\n\n      if (tag === \"svg\") {\n\n        // do not perform this transform for SVGs nested within other SVGs\n        if (!transform.svg) {\n          const {left, top} = this.getBoundingClientRect();\n          transform.x += left - offsetX;\n          transform.y += top - offsetY;\n          transform.svg = true;\n        }\n\n        let x = select(this).attr(\"x\");\n        x = x ? parseFloat(x) * transform.scale : 0;\n        transform.x += x;\n        let y = select(this).attr(\"y\");\n        y = y ? parseFloat(y) * transform.scale : 0;\n        transform.y += y;\n        transform.clip = {\n          height: parseFloat(select(this).attr(\"height\") || select(this).style(\"height\")),\n          width: parseFloat(select(this).attr(\"width\") || select(this).style(\"width\")),\n          x, y\n        };\n      }\n      else {\n        const x = select(this).attr(\"x\");\n        if (x) transform.x += parseFloat(x) * transform.scale;\n        const y = select(this).attr(\"y\");\n        if (y) transform.y += parseFloat(y) * transform.scale;\n      }\n\n    }\n\n    if (!tag.length) {\n      const test = (this.wholeText || \"\").replace(/\\s/g, \"\");\n      if (test.length) {\n\n        const text = this.nodeValue\n          .replace(/^\\s*/, \"\")\n          .replace(/^\\n/, \"\")\n          .replace(/^\\s*/, \"\")\n          .replace(/\\n$/, \"\")\n          .replace(/\\s*$/, \"\")\n          .replace(/\\n$/, \"\");\n\n        layers.push({type: \"text\", style: this.parentNode, value: text, x: transform.x, y: transform.y});\n\n      }\n    }\n    else if (tag === \"text\") {\n      const elem = this.cloneNode(true);\n      select(elem).call(svgPresets);\n      layers.push(Object.assign({}, transform, {type: \"svg\", value: elem}));\n    }\n    else if ([\"image\", \"img\"].includes(tag)) {\n\n      const url = select(this).attr(\"href\") || select(this).attr(\"xlink:href\");\n\n      if (url.length) {\n\n        const h = parseFloat(select(this).attr(\"height\")) * transform.scale,\n              w = parseFloat(select(this).attr(\"width\")) * transform.scale;\n\n        const data = {\n          clip: transform.clip,\n          height: h,\n          loaded: false,\n          type: \"img\",\n          width: w,\n          x: transform.x,\n          y: transform.y\n        };\n        layers.push(data);\n\n        const img = new Image();\n        img.crossOrigin = \"Anonymous\";\n        img.onload = function() {\n\n          const canvas2 = document.createElement(\"canvas\");\n          const ctx2 = canvas2.getContext(\"2d\");\n          canvas2.height = h * ratio;\n          canvas2.width = w * ratio;\n          ctx2.drawImage(this, 0, 0, w * ratio, h * ratio);\n          const himg = document.createElement(\"img\");\n          himg.src = canvas2.toDataURL(\"image/png\");\n\n          data.value = himg;\n          data.loaded = true;\n\n        };\n        img.src = url;\n\n      }\n\n    }\n    else if (![\"svg\", \"g\", \"text\"].includes(tag) && !select(this).selectAll(\"svg\").size()) {\n\n      const s = options.scale * ratio;\n\n      const data = {\n        height: Math.floor(height + options.padding * 2 + offsetY),\n        loaded: false,\n        type: \"html\",\n        width: Math.floor(width + options.padding * 2 + offsetX),\n        x: Math.floor(layerX - offsetX),\n        y: Math.floor(layerY - offsetY)\n      };\n\n      const tempCanvas = document.createElement(\"canvas\");\n      tempCanvas.width = data.width * s;\n      tempCanvas.height = data.height * s;\n      tempCanvas.style.width = `${data.width * s}px`;\n      tempCanvas.style.height = `${data.height * s}px`;\n\n      const tempContext = tempCanvas.getContext(\"2d\");\n      tempContext.scale(s, s);\n\n      layers.push(data);\n\n      html2canvas(this, {\n        allowTaint: true,\n        canvas: tempCanvas,\n        letterRendering: true\n      }).then(c => {\n        data.value = c;\n        data.loaded = true;\n      });\n\n    }\n    else if (tag !== \"svg\" && this.childNodes.length > 0 && !select(this).selectAll(\"image, img, svg\").size()) {\n\n      const elem = this.cloneNode(true);\n      select(elem).selectAll(\"*\").each(function() {\n        select(this).call(svgPresets);\n        if (select(this).attr(\"opacity\") === \"0\") this.parentNode.removeChild(this);\n      });\n\n      layers.push(Object.assign({}, transform, {type: \"svg\", value: elem, tag}));\n\n    }\n    else if (this.childNodes.length > 0) {\n      checkChildren(this, transform);\n    }\n    else { // catches all SVG shapes\n\n      const elem = this.cloneNode(true);\n      select(elem).selectAll(\"*\").each(function() {\n        if (select(this).attr(\"opacity\") === \"0\") this.parentNode.removeChild(this);\n      });\n\n      if (tag === \"line\") {\n        select(elem).attr(\"x1\", parseFloat(select(elem).attr(\"x1\")) + transform.x);\n        select(elem).attr(\"x2\", parseFloat(select(elem).attr(\"x2\")) + transform.x);\n        select(elem).attr(\"y1\", parseFloat(select(elem).attr(\"y1\")) + transform.y);\n        select(elem).attr(\"y2\", parseFloat(select(elem).attr(\"y2\")) + transform.y);\n      }\n      else if (tag === \"path\") {\n        const [scale, x, y] = parseTransform(elem);\n        if (select(elem).attr(\"transform\")) select(elem).attr(\"transform\", `scale(${scale})translate(${x + transform.x},${y + transform.y})`);\n      }\n      select(elem).call(svgPresets);\n\n      const fill = select(elem).attr(\"fill\");\n      const defFill = fill && fill.indexOf(\"url\") === 0;\n      // if (defFill) select(elem).attr(\"fill-opacity\", 0);\n\n      layers.push(Object.assign({}, transform, {type: \"svg\", value: elem, tag}));\n      if (defFill) {\n        const def = select(fill.slice(4, -1)).node().cloneNode(true);\n        const defTag = (def.tagName || \"\").toLowerCase();\n        if (defTag === \"pattern\") {\n\n          const [scale, x, y] = parseTransform(elem);\n          transform.scale *= scale;\n          transform.x += x;\n          transform.y += y;\n          checkChildren(def, transform);\n\n        }\n      }\n\n    }\n\n  }\n\n  function checkChildren(e, trans) {\n    selectAll(e.childNodes).each(function() {\n      checkRender.bind(this)(trans);\n    });\n  }\n\n  for (let i = 0; i < elem.length; i++) {\n\n    let e = elem[i],\n        options = {scale: 1, x: 0, y: 0, svg: false};\n\n    if (e.constructor === Object) {\n      options = Object.assign(options, e);\n      e = e.element;\n    }\n    layerX = options.x;\n    layerY = options.y;\n    checkRender.bind(e)(options);\n\n  }\n\n  function checkStatus() {\n\n    let allDone = true;\n    for (let i = 0; i < layers.length; i++) {\n      if (layers[i].loaded === false) {\n        allDone = false;\n        break;\n      }\n    }\n\n    if (allDone) finish();\n    else setTimeout(checkStatus, 500);\n\n  }\n\n  // Wait for all images to load\n  checkStatus();\n\n  function finish() {\n\n    for (let i = 0; i < layers.length; i++) {\n\n      const layer = layers[i];\n      const clip = layer.clip || {height, width, x: 0, y: 0};\n\n      switch (layer.type) {\n\n        case \"img\":\n          context.save();\n          context.beginPath();\n          context.translate(options.padding + clip.x, options.padding + clip.y);\n          context.rect(0, 0, clip.width, clip.height);\n          context.clip();\n          context.drawImage(layer.value, layer.x + clip.x, layer.y + clip.y, layer.width, layer.height);\n          context.restore();\n          break;\n\n        case \"html\":\n          context.save();\n          context.beginPath();\n          context.translate(options.padding, options.padding);\n          context.drawImage(layer.value, layer.x, layer.y, layer.width, layer.height);\n          context.restore();\n          break;\n\n        case \"text\":\n\n          const parent = select(layer.style);\n          const title = layer.value\n            .replace(/&/g, \"&amp;\")\n            .replace(/\"/g, \"&quot;\")\n            .replace(/'/g, \"&#039;\");\n\n          const fC = parent.style(\"color\"),\n                fS = parent.style(\"font-size\");\n\n          let fF = parent.style(\"font-family\").split(\",\")[0];\n\n          if (fF.indexOf(\"'\") !== 0) fF = `'${fF}'`;\n          const text = `<text stroke='none' dy='${fS}' fill='${fC}' font-family=${fF} font-size='${fS}'>${title}</text>`;\n\n          context.save();\n          context.translate(options.padding, options.padding);\n          canvg(canvas, text, Object.assign({}, canvgOptions, {offsetX: layer.x, offsetY: layer.y}));\n          context.restore();\n\n          break;\n\n        case \"svg\":\n          const outer = IE ? (new XMLSerializer()).serializeToString(layer.value) : layer.value.outerHTML;\n          context.save();\n          context.translate(options.padding + clip.x + layer.x, options.padding + clip.y + layer.y);\n          context.rect(0, 0, clip.width, clip.height);\n          context.clip();\n          canvg(canvas, outer, Object.assign({}, canvgOptions, {offsetX: layer.x + clip.x, offsetY: layer.y + clip.y}));\n          context.restore();\n          break;\n\n        default:\n          console.warn(\"uncaught\", layer);\n          break;\n\n      }\n\n    }\n\n    options.callback(canvas);\n\n  }\n\n}\n"],"names":["const","let","options","tag","x","y","elem","data","scale"],"mappings":"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"}