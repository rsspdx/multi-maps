{"version":3,"file":"Button.js","sources":["../../src/Button.js"],"sourcesContent":["/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\nimport {select} from \"d3-selection\";\nimport {accessor, BaseClass, constant, stylize} from \"d3plus-common\";\n\n/**\n    @class Button\n    @extends external:BaseClass\n    @desc Creates a set of HTML radio input elements.\n*/\nexport default class Button extends BaseClass {\n\n  /**\n      @memberof Button\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  constructor() {\n\n    super();\n\n    this._buttonStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\",\n      \"margin\": \"0 5px\"\n    };\n    this._data = [];\n    this._text = accessor(\"text\");\n    this._value = accessor(\"value\");\n\n  }\n\n  /**\n      @memberof Button\n      @desc Renders the element to the page.\n      @chainable\n  */\n  render() {\n\n    if (this._container === void 0) this.container(select(\"body\").append(\"div\").node());\n\n    let container = this._container.selectAll(`div#d3plus-Form-${this._uuid}`).data([0]);\n    const svg = this._container.node().tagName.toLowerCase() === \"foreignobject\";\n\n    container = container.enter().append(svg ? \"xhtml:div\" : \"div\")\n        .attr(\"id\", `d3plus-Form-${this._uuid}`)\n        .attr(\"class\", \"d3plus-Form d3plus-Form-Button\")\n      .merge(container);\n\n    let button = container.selectAll(\"button\")\n      .data(this._data, (d, i) => this._value(d, i));\n\n    button.exit().remove();\n\n    button = button.enter().append(\"button\")\n        .attr(\"class\", \"d3plus-Button\")\n        .attr(\"type\", \"button\")\n      .merge(button)\n        .call(stylize, this._buttonStyle)\n        .html((d, i) => this._text(d, i));\n\n    for (const event in this._on) {\n      if ({}.hasOwnProperty.call(this._on, event)) button.on(event, this._on[event]);\n    }\n\n    return this;\n\n  }\n\n  /**\n      @memberof Button\n      @desc Sets the css styles for the <input type=\"radio\"> elements.\n      @param {Object} [*value*]\n      @chainable\n  */\n  buttonStyle(_) {\n    return arguments.length ? (this._buttonStyle = _, this) : this._buttonStyle;\n  }\n\n  /**\n      @memberof Button\n      @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element, which is `undefined` by default.\n      @param {String|HTMLElement} [*selector*]\n      @chainable\n  */\n  container(_) {\n    return arguments.length ? (this._container = select(_), this) : this._container;\n  }\n\n  /**\n      @memberof Radio\n      @desc Defines the array of values to be created as <button> tags. If no value is passed, the current array is returned.\n      @param {Array} [*value* = []]\n      @chainable\n  */\n  data(_) {\n    return arguments.length ? (this._data = _, this) : this._data;\n  }\n\n  /**\n      @memberof Button\n      @desc Sets the inner text for each <button> element.\n      @param {Function|String} [*value* = function(d) { return d.text; }]\n      @chainable\n  */\n  text(_) {\n    return arguments.length ? (this._text = typeof _ === \"function\" ? _ : constant(_), this) : this._text;\n  }\n\n  /**\n      @memberof Button\n      @desc Sets the value for each <button> element.\n      @param {Function} [*value* = function(d) { return d.value; }]\n      @chainable\n  */\n  value(_) {\n    return arguments.length ? (this._value = _, this) : this._value;\n  }\n\n}\n"],"names":["super","let","const","this"],"mappings":"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"}