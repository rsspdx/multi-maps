{"version":3,"file":"textWidth.js","sources":["../../src/textWidth.js"],"sourcesContent":["/**\n    @function textWidth\n    @desc Given a text string, returns the predicted pixel width of the string when placed into DOM.\n    @param {String|Array} text Can be either a single string or an array of strings to analyze.\n    @param {Object} [style] An object of CSS font styles to apply. Accepts any of the valid [CSS font property](http://www.w3schools.com/cssref/pr_font_font.asp) values.\n*/\nexport default function(text, style) {\n\n  style = Object.assign({\n    \"font-size\": 10,\n    \"font-family\": \"sans-serif\",\n    \"font-style\": \"normal\",\n    \"font-weight\": 400,\n    \"font-variant\": \"normal\"\n  }, style);\n\n  const context = document.createElement(\"canvas\").getContext(\"2d\");\n\n  const font = [];\n  font.push(style[\"font-style\"]);\n  font.push(style[\"font-variant\"]);\n  font.push(style[\"font-weight\"]);\n  font.push(typeof style[\"font-size\"] === \"string\" ? style[\"font-size\"] : `${style[\"font-size\"]}px`);\n  // let s = `${style[\"font-size\"]}px`;\n  // if (\"line-height\" in style) s += `/${style[\"line-height\"]}px`;\n  // font.push(s);\n  font.push(style[\"font-family\"]);\n\n  context.font = font.join(\" \");\n\n  if (text instanceof Array) return text.map(t => context.measureText(t.replace(/<[^>]+>/g, \"\")).width);\n  return context.measureText(text.replace(/<[^>]+>/g, \"\")).width;\n\n}\n"],"names":["const"],"mappings":"AAAA;;;;;;AAMA,eAAe,SAAS,IAAI,EAAE,KAAK,EAAE;;EAEnC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC;IACpB,WAAW,EAAE,EAAE;IACf,aAAa,EAAE,YAAY;IAC3B,YAAY,EAAE,QAAQ;IACtB,aAAa,EAAE,GAAG;IAClB,cAAc,EAAE,QAAQ;GACzB,EAAE,KAAK,CAAC,CAAC;;EAEVA,GAAK,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;;EAElEA,GAAK,CAAC,IAAI,GAAG,EAAE,CAAC;EAChB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC;EAC/B,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC;EACjC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC;EAChC,IAAI,CAAC,IAAI,CAAC,OAAO,KAAK,CAAC,WAAW,CAAC,KAAK,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC,GAAG,EAAG,KAAK,CAAC,WAAW,EAAC,QAAI,CAAC,CAAC;;;;EAInG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC;;EAEhC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;EAE9B,IAAI,IAAI,YAAY,KAAK,IAAE,OAAO,IAAI,CAAC,GAAG,WAAC,EAAC,CAAC,SAAG,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC,QAAK,CAAC,GAAC;EACtG,OAAO,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;;CAEhE;"}