{"version":3,"file":"Message.js","sources":["../../src/Message.js"],"sourcesContent":["import {select} from \"d3-selection\";\n\nimport {stylize} from \"d3plus-common\";\n\n/**\n    @class Message\n    @desc Displays a message using plain HTML.\n    @private\n*/\nexport default class Message {\n\n  /**\n      @memberof Message\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  constructor() {\n    this._isVisible = false;\n  }\n\n  /**\n      @memberof Message\n      @desc Removes the message from the page.\n      @chainable\n  */\n  exit(elem, duration) {\n\n    elem\n      .transition().duration(duration).style(\"opacity\", 0)\n      .transition().remove();\n\n    this._isVisible = false;\n\n  }\n\n  /**\n      @memberof Message\n      @desc Removes the message from the page.\n      @chainable\n  */\n  hide({duration = 600, callback} = {}) {\n\n    this.mask.call(this.exit.bind(this), duration);\n    this.elem.call(this.exit.bind(this), duration);\n\n    if (callback) setTimeout(callback, duration + 100);\n\n    this._isVisible = false;\n\n    return this;\n\n  }\n\n  /**\n      @memberof Message\n      @desc Draws the message given the specified configuration.\n      @param {Object} [*config*]\n      @chainable\n  */\n  render({\n    callback,\n    container = \"body\",\n    duration = 600,\n    html = \"Please Wait\",\n    mask = \"rgba(0, 0, 0, 0.1)\",\n    style = {}\n  } = {}) {\n\n    const parent = select(container)\n      .style(\"position\", \"relative\");\n\n    this.mask = parent.selectAll(\"div.d3plus-Mask\").data(mask ? [mask] : []);\n\n    this.mask = this.mask.enter().append(\"div\")\n      .attr(\"class\", \"d3plus-Mask\")\n      .style(\"opacity\", 1)\n      .merge(this.mask);\n\n    this.mask.exit().call(this.exit.bind(this), duration);\n\n    stylize(this.mask, {\n      \"background-color\": String,\n      \"bottom\": \"0px\",\n      \"left\": \"0px\",\n      \"position\": \"absolute\",\n      \"right\": \"0px\",\n      \"top\": \"0px\"\n    });\n\n    this.elem = parent.selectAll(\"div.d3plus-Message\").data([html]);\n\n    this.elem = this.elem.enter().append(\"div\")\n      .attr(\"class\", \"d3plus-Message\")\n      .style(\"opacity\", 1)\n      .merge(this.elem)\n      .html(String);\n\n    stylize(this.elem, style);\n\n    if (callback) setTimeout(callback, 100);\n\n    this._isVisible = true;\n\n    return this;\n\n  }\n\n}\n"],"names":["const"],"mappings":"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"}