{"version":3,"file":"_getSize.js","sources":["../../src/_getSize.js"],"sourcesContent":["import {select} from \"d3-selection\";\n\n/**\n  @desc Given an HTMLElement and a \"width\" or \"height\" string, this function returns the current calculated size for the DOM element.\n  @private\n*/\nfunction _elementSize(element, s) {\n\n  if (!element) return undefined;\n\n  if (element.tagName === undefined || [\"BODY\", \"HTML\"].indexOf(element.tagName) >= 0) {\n\n    let val  = window[`inner${s.charAt(0).toUpperCase() + s.slice(1)}`];\n    const elem = select(element);\n\n    if (s === \"width\") {\n      val -= parseFloat(elem.style(\"margin-left\"), 10);\n      val -= parseFloat(elem.style(\"margin-right\"), 10);\n      val -= parseFloat(elem.style(\"padding-left\"), 10);\n      val -= parseFloat(elem.style(\"padding-right\"), 10);\n    }\n    else {\n      val -= parseFloat(elem.style(\"margin-top\"), 10);\n      val -= parseFloat(elem.style(\"margin-bottom\"), 10);\n      val -= parseFloat(elem.style(\"padding-top\"), 10);\n      val -= parseFloat(elem.style(\"padding-bottom\"), 10);\n    }\n\n    return val;\n\n  }\n  else {\n\n    const val = parseFloat(select(element).style(s), 10);\n    if (typeof val === \"number\" && val > 0) return val;\n    else return _elementSize(element.parentNode, s);\n\n  }\n}\n\n/**\n    @function getSize\n    @desc Finds the available width and height for a specified HTMLElement, traversing it's parents until it finds something with constrained dimensions. Falls back to the inner dimensions of the browser window if none is found.\n    @param {HTMLElement} elem The HTMLElement to find dimensions for.\n    @private\n*/\nexport default function(elem) {\n  return [_elementSize(elem, \"width\"), _elementSize(elem, \"height\")];\n}\n"],"names":["val","let","const"],"mappings":"AAAA,QAAQ,MAAM,OAAO,cAAc,CAAC;;;;;;AAMpC,SAAS,YAAY,CAAC,OAAO,EAAE,CAAC,EAAE;;EAEhC,IAAI,CAAC,OAAO,IAAE,OAAO,SAAS,GAAC;;EAE/B,IAAI,OAAO,CAAC,OAAO,KAAK,SAAS,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;;IAEnFC,GAAG,CAAC,GAAG,IAAI,MAAM,CAAC,YAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACpEC,GAAK,CAAC,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;;IAE7B,IAAI,CAAC,KAAK,OAAO,EAAE;MACjB,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE,EAAE,CAAC,CAAC;MACjD,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,EAAE,EAAE,CAAC,CAAC;MAClD,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,EAAE,EAAE,CAAC,CAAC;MAClD,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,EAAE,EAAE,CAAC,CAAC;KACpD;SACI;MACH,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE,EAAE,CAAC,CAAC;MAChD,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,EAAE,EAAE,CAAC,CAAC;MACnD,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE,EAAE,CAAC,CAAC;MACjD,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,EAAE,EAAE,CAAC,CAAC;KACrD;;IAED,OAAO,GAAG,CAAC;;GAEZ;OACI;;IAEHA,GAAK,CAACF,KAAG,GAAG,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACrD,IAAI,OAAOA,KAAG,KAAK,QAAQ,IAAIA,KAAG,GAAG,CAAC,IAAE,OAAOA,KAAG,GAAC;WAC9C,OAAO,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC,GAAC;;GAEjD;CACF;;;;;;;;AAQD,eAAe,SAAS,IAAI,EAAE;EAC5B,OAAO,CAAC,YAAY,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE,YAAY,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;CACpE;"}